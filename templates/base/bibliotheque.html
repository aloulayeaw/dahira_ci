{% extends 'index.html' %}
 {% block content %} 
 {% load static %}


        <!-- start of hero -->
            <div class="wpo-breadcumb-area" style="background-image: url('{% static 'assets/images/slider_images/photo_2023-09-12_11-10-20.jpg' %}'); background-color: rgba(0, 0, 0, 0.5);">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="wpo-breadcumb-wrap">
                                <h2 style="color: white">Bibliothèque</h2>
                                <ul>
                                    <li><a href="{% url 'home' %}" style="color: #098542">Acceuil</a></li>
                                    <li style="color: #098542"><span style="color: #098542">Bibliotheque</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            {% comment %} <div class="service-area-2">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-5 col-md-5">
                            <div class="wpo-about-text">
                                <a href="#" onclick="openPDF('{% static 'assets/images/fichiers/AL MUNTAZAR, l histoire de Seydina Limamou LAHI (psl).pdf' %}')">Ouvrir AL MUNTAZAR PDF</a>
                            </div>
                        </div>
                        <div class="col-lg-5 col-md-5">
                            <div class="wpo-about-text">
                                <a href="#" onclick="openPDF('{% static 'assets/images/fichiers/Optique sur AL MUNTAZAR.pdf' %}')">Ouvrir Optique sur AL MUNTAZAR PDF</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div> {% endcomment %}
            <br><br>
            <div class="service-area-2">
                <div class="container">
                    <h3 style="text-align: center; color: black;">Quelques Documents Utiles </h3>
                    <br><br>
                    <div class="row">
                        <div class="col-lg-3 col-md-3">
                            <div class="wpo-about-text">
                                <button onclick="afficherPDF('{% static 'assets/images/fichiers/hagiographie.pdf' %}')"><img class="desktop-margin-top" style="margin-top: 0px;height: 350px;" src="{% static 'assets/images/hagio.PNG' %}" alt=""></button>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3">
                            <div class="wpo-about-text">
                                <button onclick="afficherPDF('{% static 'assets/images/fichiers/références.pdf' %}')"><img class="desktop-margin-top" style="margin-top: 0px;height: 350px;" src="{% static 'assets/images/ref.PNG' %}" alt=""></button>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3">
                            <div class="wpo-about-text">
                                <button onclick="afficherPDF('{% static 'assets/images/fichiers/WIRD LAYENE.pdf' %}')"><img class="desktop-margin-top" style="margin-top: 0px;height: 350px;" src="{% static 'assets/images/wird_layenne.PNG' %}" alt=""></button>
                            </div>
                        </div>
                        <p></p>
                        <p></p>
                        <p></p>
                        <div class="col-lg-3 col-md-3">
                            <div class="wpo-about-text">
                                <button onclick="afficherPDF('{% static 'assets/images/fichiers/communauté.pdf' %}')"><img class="desktop-margin-top" style="margin-top: 0px;height: 350px;" src="{% static 'assets/images/com.PNG' %}" alt=""></button>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3">
                            <div class="wpo-about-text">
                                <button onclick="afficherPDF('{% static 'assets/images/fichiers/la-verite-sur-l-apparition-du-mahdi-1.pdf' %}')"><img class="desktop-margin-top" style="margin-top: 0px;height: 350px;" src="{% static 'assets/images/verité_app_mahdi.PNG' %}" alt=""></button>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-3">
                            <div class="wpo-about-text">
                                <a href="https://www.almahdiyou.org/bibliotheque" class="theme-btn">Voir Plus Articles</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <br>
            <div class="service-area-2">
                <div class="container">
                    <h3 style="text-align: center; color: black;">Quelques Livres </h3>
                    <br><br>
                    <div class="row">
                        <div class="col-lg-5 col-md-5">
                            <div class="wpo-about-text">
                                <button onclick="afficherPDF('{% static 'assets/images/fichiers/AL MUNTAZAR.pdf' %}')"><img class="desktop-margin-top" style="margin-top: 0px;" src="{% static 'assets/images/mountazar.PNG' %}" alt=""></button>
                            </div>
                        </div>
                        <div class="col-lg-5 col-md-5">
                            <div class="wpo-about-text">
                                <button onclick="afficherPDF('{% static 'assets/images/fichiers/Optique sur AL MUNTAZAR.pdf' %}')"><img class="desktop-margin-top" style="margin-top: 0px;" src="{% static 'assets/images/optque.PNG' %}" alt=""></button>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-2">
                            <h3 style="text-align: center; color: black;">Auteurs</h3>
                            <div class="wpo-about-text">
                                <img class="desktop-margin-top" style="margin-top: 0px;border-radius: 70px;border: 1px solid black;background-color: white; cursor: pointer;" src="{% static 'assets/images/profil.png' %}" alt="" data-toggle="modal" data-target="#myModal">
                            </div>
                        </div>
                        <p></p>
                        <p></p>
                        <p></p>
                        <div class="col-lg-5 col-md-5">
                            <div class="wpo-about-text">
                                <button onclick="afficherPDF('{% static 'assets/images/fichiers/Bouchral mouhibbine.pdf' %}')"><img class="desktop-margin-top" style="margin-top: 0px;" src="{% static 'assets/images/bouchral_mouhibine.PNG' %}" alt=""></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="modal fade" id="pdfModal" tabindex="-1" role="dialog" aria-labelledby="pdfModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-full">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="pdfModalLabel"></h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div id="pdfCarousel" class="carousel slide" data-ride="carousel">
                                <div class="carousel-inner" id="pdfPages"></div>
                                <a class="carousel-control-prev" href="#pdfCarousel" role="button" data-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                </a>
                                <a class="carousel-control-next" href="#pdfCarousel" role="button" data-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="myModal">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h4 class="modal-title">Auteur</h4>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        <!-- Modal body -->
                        <div class="modal-body">
                            <p style="text-align: justify; color: black;">
                                Juriste de formation et doctorant à l'université Gaston Berger de Saint Louis, Ibrahima Abou SAMB est formateur en communication, management et développement personnel. <br>Il est auteur de huit ouvrages sur Seydina Limamou psl ainsi que de plusieurs articles. <br>Le dernier en date est intitulé "Limamou, source du savoir absolu et relatif", sorti en 2023. Il est né à Thiès en 1990 et a effectué son cursus scolaire entre Dakar et Thiès. 
                                <br>
                                Contact: <span style="font-size: 17px;color: #0c8444">aboulaay@gmail.com</span>
                            </p>
                        </div>
                        <!-- Modal footer -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <script>
                function afficherPDF(pdfUrl) {
                    // Récupérez le conteneur de la galerie d'images
                    const pdfPagesContainer = document.getElementById("pdfPages");
            
                    // Effacez le contenu précédent de la galerie
                    pdfPagesContainer.innerHTML = '';
            
                    // Affichez le PDF dans la fenêtre modale Bootstrap
                    pdfjsLib.getDocument(pdfUrl).promise.then(function(pdfDoc) {
                        for (let pageNum = 1; pageNum <= pdfDoc.numPages; pageNum++) {
                            pdfDoc.getPage(pageNum).then(function(page) {
                                const canvas = document.createElement("canvas");
                                const context = canvas.getContext('2d');
                                const viewport = page.getViewport({ scale: 1 });
            
                                // Définissez la taille du canvas pour occuper 100% de la largeur
                                canvas.height = viewport.height;
                                canvas.width = viewport.width * (window.innerWidth / viewport.width);
            
                                // Dessinez la page PDF sur le canvas
                                page.render({
                                    canvasContext: context,
                                    viewport: viewport
                                }).promise.then(function() {
                                    // Créez une div pour chaque page PDF
                                    const pdfPageDiv = document.createElement("div");
                                    pdfPageDiv.className = "carousel-item";
                                    if (pageNum === 1) {
                                        pdfPageDiv.classList.add("active");
                                    }
                                    pdfPageDiv.appendChild(canvas);
                                    pdfPagesContainer.appendChild(pdfPageDiv);
                                });
                            });
                        }
            
                        // Ouvrez la fenêtre modale Bootstrap
                        $('#pdfModal').modal('show');
                    });
                }
            </script>


{% endblock %}
